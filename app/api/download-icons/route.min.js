import{promises as fs}from"fs";import{NextResponse}from"next/server";import path from"path";export async function GET(req){path.join(process.cwd(),"public/icons");const{searchParams:searchParams}=new URL(req.url),name=searchParams.get("name");if(!name)return NextResponse.json({error:"No icon name provided"},{status:400});const filePath=path.join(process.cwd(),"icons",name);try{const file=await fs.readFile(filePath,"utf-8");return new NextResponse(file,{headers:{"Content-Type":"image/svg+xml","Cache-Control":"no-store"}})}catch{return NextResponse.json({error:"Not found"},{status:404})}}